<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bool</title>
</head>

<style type="text/css">
    @import"../class.css";
</style>

<body>

<h1 id="title"><a href="../../../index.html">QFn</a>.<a href="function.html">function</a>.Function</h1>

<h3>父类：</h3>
<ul>
	<li>object</li>
</ul>
<br>

<h3>属性：</h3>
<ul>
	<li>function <a href="#fn">fn</a></li>
    <li>str <a href="#module">module</a></li>
    <li>str <a href="#name">name</a></li>
    <li>str <a href="#fullName">fullName</a></li>
    <li>str <a href="#help">help</a></li>
    <li>list <a href="#args">args</a></li>
    <li>bool <a href="#keywords">keywords</a></li>
    <li>dist <a href="#default">default</a></li>
    <li>dist <a href="#kwargs">kwargs</a></li>
    <li><a href="Log.html">Log</a> <a href="#log">log</a></li>
    <li><a href="Json.html">Json</a> <a href="#json">json</a></li>
</ul>
<br>

<h3>方法：</h3>
<ul>
	<li><a href="#__init__">__init__</a>(self, function fn)</li>
    <li>str <a href="#__repr__">__repr__</a>(self)</li>
    <li>bool <a href="#__contains__">__contains__</a>(self, str arg)</li>
    <li><a href="#__call__">__call__</a>(self, **kwargs)</li>
    <li>str <a href="#redo">redo</a>(self)</li>
    <li>str <a href="#reload">reload</a>(self)</li>
</ul>
<br>

<h2>文档</h2>
<hr>

<div id="fn"><h4>function fn</h4></div>
<pre>
    python函数。仅支持模块下直接通过def创建的普通函数，特殊方法生成的函数需要再次封装。
</pre>
<br>

<div id="module"><h4>str module</h4></div>
<pre>
    函数所在模块名。
</pre>
<br>

<div id="name"><h4>str name</h4></div>
<pre>
    函数名。
</pre>
<br>

<div id="fullName"><h4>str fullName</h4></div>
<pre>
    函数的长名称 module.name
</pre>
<br>

<div id="help"><h4>str help</h4></div>
<pre>
    函数的帮助__doc__。
</pre>
<br>

<div id="args"><h4>list args</h4></div>
<pre>
    函数参数的键名。
</pre>
<br>

<div id="keywords"><h4>bool keywords</h4></div>
<pre>
    是否存在**kwargs。
</pre>
<br>

<div id="default"><h4>dict default</h4></div>
<pre>
    默认参数的键值对。
</pre>
<br>

<div id="kwargs"><h4>dict kwargs</h4></div>
<pre>
    Function.kwargs = dict kwargs 记录参数到<a href="#json">json</a>
    dict kwargs = Function.kwargs 读取<a href="#json">json</a>记录的参数
</pre>
<br>

<div id="log"><h4><a href="Log.html">Log</a> log</h4></div>
<pre>
    用来将运行日志记录到data/log/主机名.log。
</pre>
<br>

<div id="json"><h4><a href="Json.html">Json</a> json</h4></div>
<pre>
    用来将参数储存到data/json/主机名/fullName.json。
</pre>
<br>

<div id="__init__"><h4>__init__(self, function fn)</h4></div>
<pre>
    参数 function: python函数。
</pre>
<br>

<div id="__repr__"><h4>str __repr__(self)</h4></div>
<pre>
    返回: QFn.function.Function(fn.fullName)
</pre>
<br>

<div id="__contains__"><h4>bool __contains__(self, str arg)</h4></div>
<pre>
    参数 arg: 参数名
    返回: 函数是否具有该参数
</pre>
<br>

<div id="__call__"><h4>__call__(self)</h4></div>
<pre>
    记录参数到<a href="#json">json</a>，执行函数，若运行错误，记录错误信息到<a href="#log">log</a>。
</pre>
<br>

<div id="redo"><h4>redo(self)</h4></div>
<pre>
    使用上次运行记录的参数再次执行函数。
</pre>
<br>

<div id="reload"><h4>reload(self)</h4></div>
<pre>
    重新加载函数。
</pre>
<br>


<h2>案例</h2>
<hr>

<pre style="margin-left:36px;">
from QFn import function, fn

fn = function.Function(fn.man)
print fn
print fn.module
print fn.name
print fn.fullName
print fn.help
print fn.args
print fn.keywords
print fn.default
print fn.log
print fn.json
if "aaa" in fn:
    print fn, "有参数aaa"
else:
    print fn, "无参数aaa"
fn.reload()
fn(name=u"小红", sex=u"女", height=170.0)
print fn.kwargs
fn.redo()
fn.kwargs = dict(name=u"小白", body=1, height=160.0, aaa=5)
print fn.kwargs
fn.redo()
</pre>
</body>
</html>