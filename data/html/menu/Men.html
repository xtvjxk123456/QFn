<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Menu</title>
</head>

<style type="text/css">
    @import"../class.css";
</style>

<body>

<h1 id="title"><a href="../../../index.html">QFn</a>.<a href="menu.html">menu</a>.Menu</h1>
<h3>父类：</h3>
<ul>
	<li>object</li>
</ul>
<br>



<h3>属性：</h3>
<ul>
    <li>path <a href="#path">path</a></li>
    <li>cache <a href="#cache">cache</a></li>
</ul>
<br>

<h3>方法：</h3>
<ul>
	<li><a href="#__init__">__init__</a>(self, str path)</li>
    <li><a href="#write">write</a>(self)</li>
    <li><a href="#read">read</a>(self)</li>
    <li><a href="#apply">apply</a>(self, str path)</li>
    <li><a href="#reload">reload</a>(self)</li>
</ul>
<br>


<h2>文档</h2>
<hr>

<div id="path"><h4>path</h4></div>
<pre>
    菜单对应文件夹路径。
</pre>
<br>

<div id="cache"><h4>cache</h4></div>
<pre>
    窗口缓存。
</pre>
<br>

<div id="__init__"><h4>__init__(self, str path)</h4></div>
<pre>
    参数 path: 菜单对应文件夹路径。
</pre>
<br>

<div id="write"><h4>write(self)</h4></div>
<pre>
    遍历path文件夹下的文件，获取建立菜单需要的菜单数据列表，储存在self.path+"/menu.json"下。
    菜单数据列表为菜单数据构成的列表。每菜单数据结构如下。
    {
        "path": 对应文件夹或yaml文件路径，
        "icon": 对应图标路径，
        "html": 对应帮助路径，
        "name": 菜单名，
        "children": 子菜单数据列表
    }
    该方法需在更新菜单后手动运行一次来更新数据。
</pre>
<br>

<div id="read"><h4>read(self, str path)</h4></div>
<pre>
    直接读取self.path+"/menu.json"中的数据创建菜单。
</pre>
<br>


<div id="apply"><h4>apply(self, str path)</h4></div>
<pre>
    param path: yaml文件路径。
    通过yaml文件创建窗口并显示。
    初次创建的窗口会储存在cache供第二次执行使用，避免重复创建。
    若yaml中仅记录一个无参函数，则直接运行该函数。
</pre>
<br>

<div id="reload"><h4>reload(self)</h4></div>
<pre>
    重新加载所有已创建窗口对应函数的模块。
    在修改测试函数时避免重新创建窗口。
</pre>
<br>

</body>
</html>